"use strict";jQuery(document).ready(function(r){rrze_rsvp_admin.dateformat;var e=rrze_rsvp_admin.text_cancel,i=rrze_rsvp_admin.text_cancelled,a=rrze_rsvp_admin.text_confirmed,o=rrze_rsvp_admin.ajaxurl;function t(e,t){var r=t.attr("data-id"),n=t.attr("href");jQuery.ajax({type:"POST",url:o,data:{action:"booking_action",id:r,type:e}}).fail(function(r){console.error("AJAX request failed")}).done(function(r){r=JSON.parse(r),jQuery.ajax({type:"GET",url:n}).fail(function(r){console.error("AJAX request failed")}).done(function(r){"confirm"==e?t.addClass("rrze-rsvp-confirmed").attr("disabled","disabled").html(a):t.attr("disabled","disabled").html(i)})})}r(".rrze-rsvp-confirm").click(function(r){return r.preventDefault(),t("confirm",jQuery(this)),!1}),r(".rrze-rsvp-cancel").click(function(r){return r.preventDefault(),confirm(e)&&t("cancel",jQuery(this)),!1});var n=jQuery("div#rrze-rsvp-booking-details"),c=n.find("select#rrze-rsvp-booking-seat"),s=n.find("input#rrze-rsvp-booking-start_date"),d=n.find("input#rrze-rsvp-booking-start_time"),l=n.find("input#rrze-rsvp-booking-end_date"),v=n.find("input#rrze-rsvp-booking-end_time");d.attr("readonly","readonly"),c.change(function(){s.val(""),d.val(""),l.val(""),v.val(""),jQuery("div.select_timeslot_container").remove()}),s.change(function(){l.val(s.val()),d.val(""),v.val(""),""==c.val()||""==s.val()?alert(rrze_rsvp_admin.alert_no_seat_date):(jQuery("div.select_timeslot_container").remove(),jQuery.post(o,{action:"ShowTimeslots",seat:c.val(),date:s.val()},function(r){0!=r&&jQuery("input#rrze-rsvp-booking-start_time").after(r)}))}),r("div.cmb2-id-rrze-rsvp-booking-start").on("change","select.select_timeslot",function(){var r=jQuery(this).val(),e=jQuery(this).find(":selected").data("end");console.log(r),console.log(e),d.val(r),v.val(e)}),r("div.cmb2-id-rrze-rsvp-room-instant-check-in").hide(),r("#rrze-rsvp-room-auto-confirmation").click(function(){r(this).is(":checked")?r("div.cmb2-id-rrze-rsvp-room-instant-check-in").show(500):(r("div.cmb2-id-rrze-rsvp-room-instant-check-in").hide(500),r("#rrze-rsvp-room-instant-check-in").is(":checked")&&r("#rrze-rsvp-room-instant-check-in").prop("checked",!1))})});