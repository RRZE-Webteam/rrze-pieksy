"use strict";jQuery(document).ready(function(e){rrze_rsvp_admin.dateformat;var o=rrze_rsvp_admin.text_cancel,n=rrze_rsvp_admin.text_cancelled,t=rrze_rsvp_admin.text_confirmed,c=rrze_rsvp_admin.ajaxurl;function i(e,o){var r=o.attr("data-id"),i=o.attr("href");jQuery.ajax({type:"POST",url:c,data:{action:"booking_action",id:r,type:e}}).fail(function(r){console.error("AJAX request failed")}).done(function(r){r=JSON.parse(r),jQuery.ajax({type:"GET",url:i}).fail(function(r){console.error("AJAX request failed")}).done(function(r){"confirm"==e?o.addClass("rrze-rsvp-confirmed").attr("disabled","disabled").html(t):o.attr("disabled","disabled").html(n)})})}e(".rrze-rsvp-confirm").click(function(r){return r.preventDefault(),i("confirm",jQuery(this)),!1}),e(".rrze-rsvp-cancel").click(function(r){return r.preventDefault(),confirm(o)&&i("cancel",jQuery(this)),!1});var r=jQuery("div#rrze-rsvp-booking-details"),a=r.find("select#rrze-rsvp-booking-seat"),s=r.find("input#rrze-rsvp-booking-start_date"),d=r.find("input#rrze-rsvp-booking-start_time"),v=r.find("input#rrze-rsvp-booking-end_date"),l=r.find("input#rrze-rsvp-booking-end_time");function m(r){"rrze-rsvp-additionals"==e("select#rrze-rsvp-room-bookingmode option:checked").val()?e("div#rrze-rsvp-additionals").slideDown(r):e("div#rrze-rsvp-additionals").slideUp(r)}function p(r){e("#rrze-rsvp-room-auto-confirmation").is(":checked")?e("div.cmb2-id-rrze-rsvp-room-instant-check-in").slideDown(r):(e("div.cmb2-id-rrze-rsvp-room-instant-check-in").slideUp(r),e("#rrze-rsvp-room-instant-check-in").is(":checked")&&e("#rrze-rsvp-room-instant-check-in").prop("checked",!1),e("div.cmb2-id-rrze-rsvp-room-force-to-confirm").slideDown(r),e("div.cmb2-id-rrze-rsvp-room-force-to-checkin").slideDown(r))}function f(r){e("#rrze-rsvp-room-instant-check-in").is(":checked")?(e("div.cmb2-id-rrze-rsvp-room-force-to-confirm").slideUp(r),e("#rrze-rsvp-room-force-to-confirm").is(":checked")&&e("#rrze-rsvp-room-force-to-confirm").prop("checked",!1),e("div.cmb2-id-rrze-rsvp-room-force-to-checkin").slideUp(r),e("#rrze-rsvp-room-force-to-checkin").is(":checked")&&e("#rrze-rsvp-room-force-to-checkin").prop("checked",!1)):(e("div.cmb2-id-rrze-rsvp-room-force-to-confirm").slideDown(r),e("div.cmb2-id-rrze-rsvp-room-force-to-checkin").slideDown(r))}d.attr("readonly","readonly"),a.change(function(){s.val(""),d.val(""),v.val(""),l.val(""),jQuery("div.select_timeslot_container").remove()}),s.change(function(){v.val(s.val()),d.val(""),l.val(""),""==a.val()||""==s.val()?alert(rrze_rsvp_admin.alert_no_seat_date):(jQuery("div.select_timeslot_container").remove(),jQuery.post(c,{action:"ShowTimeslots",seat:a.val(),date:s.val()},function(r){0!=r&&jQuery("input#rrze-rsvp-booking-start_time").after(r)}))}),e("div.cmb2-id-rrze-rsvp-booking-start").on("change","select.select_timeslot",function(){var r=jQuery(this).val(),e=jQuery(this).find(":selected").data("end");console.log(r),console.log(e),d.val(r),l.val(e)}),m(0),p(0),f(0),e("select#rrze-rsvp-room-bookingmode").on("change",function(){m(200)}),e("#rrze-rsvp-room-auto-confirmation").click(function(){p(200)}),e("#rrze-rsvp-room-instant-check-in").click(function(){f(200)})});