"use strict";jQuery(document).ready(function(){rrze_rsvp_admin.dateformat;var r=rrze_rsvp_admin.text_cancel,a=rrze_rsvp_admin.text_cancelled,i=rrze_rsvp_admin.text_confirmed,o=rrze_rsvp_admin.ajaxurl;function t(r,t){var e=t.attr("data-id"),n=t.attr("href");jQuery.ajax({type:"POST",url:o,data:{action:"booking_action",id:e,type:r}}).fail(function(e){console.error("AJAX request failed")}).done(function(e){e=JSON.parse(e),jQuery.ajax({type:"GET",url:n}).fail(function(e){console.error("AJAX request failed")}).done(function(e){"confirm"==r?t.addClass("rrze-rsvp-confirmed").attr("disabled","disabled").html(i):t.attr("disabled","disabled").html(a)})})}jQuery(".rrze-rsvp-confirm").click(function(e){return e.preventDefault(),t("confirm",jQuery(this)),!1}),jQuery(".rrze-rsvp-cancel").click(function(e){return e.preventDefault(),confirm(r)&&t("cancel",jQuery(this)),!1});var e=jQuery("div#rrze-rsvp-booking-details"),n=e.find("select#rrze-rsvp-booking-seat"),l=e.find("input#rrze-rsvp-booking-start_date"),s=e.find("input#rrze-rsvp-booking-start_time"),d=e.find("input#rrze-rsvp-booking-end_date"),c=e.find("input#rrze-rsvp-booking-end_time");s.attr("readonly","readonly"),n.change(function(){l.val(""),s.val(""),d.val(""),c.val(""),jQuery("div.select_timeslot_container").remove()}),l.change(function(){d.val(l.val()),s.val(""),c.val(""),""==n.val()||""==l.val()?alert(rrze_rsvp_admin.alert_no_seat_date):(jQuery("div.select_timeslot_container").remove(),jQuery.post(o,{action:"ShowTimeslots",seat:n.val(),date:l.val()},function(e){0!=e&&jQuery("input#rrze-rsvp-booking-start_time").after(e)}))}),jQuery("div.cmb2-id-rrze-rsvp-booking-start").on("change","select.select_timeslot",function(){var e=jQuery(this).val(),r=jQuery(this).find(":selected").data("end");console.log(e),console.log(r),s.val(e),c.val(r)})});